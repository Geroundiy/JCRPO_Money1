<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>–î–µ–Ω–µ–∂–Ω–∞—è –∫–∞–ø—Å—É–ª–∞</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

<!-- DARK MODE TOGGLE + NIGHT VIDEO -->
<div class="darkmode-wrapper">
    <input type="checkbox" id="darkmode-toggle" />
    <label for="darkmode-toggle" class="darkmode-label" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç—ë–º–Ω—É—é —Ç–µ–º—É">
        <!-- --- SUN SVG (–≤—Å—Ç–∞–≤–ª–µ–Ω–æ –≤–∞—à–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ) --- -->
        <svg version="1.1" class="sun" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 496 496" style="enable-background:new 0 0 496 496;" xml:space="preserve">
      <rect x="152.994" y="58.921" transform="matrix(0.3827 0.9239 -0.9239 0.3827 168.6176 -118.5145)" width="40.001" height="16" />
            <rect x="46.9" y="164.979" transform="matrix(0.9239 0.3827 -0.3827 0.9239 71.29 -12.4346)" width="40.001" height="16" />
            <rect x="46.947" y="315.048" transform="matrix(0.9239 -0.3827 0.3827 0.9239 -118.531 50.2116)" width="40.001" height="16" />
            <rect x="164.966" y="409.112" transform="matrix(-0.9238 -0.3828 0.3828 -0.9238 168.4872 891.7491)" width="16" height="39.999" />
            <rect x="303.031" y="421.036" transform="matrix(-0.3827 -0.9239 0.9239 -0.3827 50.2758 891.6655)" width="40.001" height="16" />
            <rect x="409.088" y="315.018" transform="matrix(-0.9239 -0.3827 0.3827 -0.9239 701.898 785.6559)" width="40.001" height="16" />
            <rect x="409.054" y="165.011" transform="matrix(-0.9239 0.3827 -0.3827 -0.9239 891.6585 168.6574)" width="40.001" height="16" />
            <rect x="315.001" y="46.895" transform="matrix(0.9238 0.3828 -0.3828 0.9238 50.212 -118.5529)" width="16" height="39.999" />
            <path d="M248,88c-88.224,0-160,71.776-160,160s71.776,160,160,160s160-71.776,160-160S336.224,88,248,88z M248,392
      c-79.4,0-144-64.6-144-144s64.6-144,144-144s144,64.6,144,144S327.4,392,248,392z" />
            <rect x="240" width="16" height="72" />
            <rect x="62.097" y="90.096" transform="matrix(0.7071 0.7071 -0.7071 0.7071 98.0963 -40.6334)" width="71.999" height="16" />
            <rect y="240" width="72" height="16" />
            <rect x="90.091" y="361.915" transform="matrix(-0.7071 -0.7071 0.7071 -0.7071 -113.9157 748.643)" width="16" height="71.999" />
            <rect x="240" y="424" width="16" height="72" />
            <rect x="361.881" y="389.915" transform="matrix(-0.7071 -0.7071 0.7071 -0.7071 397.8562 960.6281)" width="71.999" height="16" />
            <rect x="424" y="240" width="72" height="16" />
            <rect x="389.911" y="62.091" transform="matrix(0.7071 0.7071 -0.7071 0.7071 185.9067 -252.6357)" width="16" height="71.999" />
    </svg>

        <!-- --- MOON SVG (–≤—Å—Ç–∞–≤–ª–µ–Ω–æ –≤–∞—à–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ) --- -->
        <svg version="1.1" class="moon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 49.739 49.739" style="enable-background:new 0 0 49.739 49.739;" xml:space="preserve">
      <path d="M25.068,48.889c-9.173,0-18.017-5.06-22.396-13.804C-3.373,23.008,1.164,8.467,13.003,1.979l2.061-1.129l-0.615,2.268
         c-1.479,5.459-0.899,11.25,1.633,16.306c2.75,5.493,7.476,9.587,13.305,11.526c5.831,1.939,12.065,1.492,17.559-1.258v0
         c0.25-0.125,0.492-0.258,0.734-0.391l2.061-1.13l-0.585,2.252c-1.863,6.873-6.577,12.639-12.933,15.822
         C32.639,48.039,28.825,48.888,25.068,48.889z M12.002,4.936c-9.413,6.428-12.756,18.837-7.54,29.253
         c5.678,11.34,19.522,15.945,30.864,10.268c5.154-2.582,9.136-7.012,11.181-12.357c-5.632,2.427-11.882,2.702-17.752,0.748
         c-6.337-2.108-11.473-6.557-14.463-12.528C11.899,15.541,11.11,10.16,12.002,4.936z" />
    </svg>
    </label>

    <!-- –ù–æ—á–Ω–æ–π –≤–∏–¥–µ–æ-—Ñ–æ–Ω (–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∏–∑ static/font/dark_background.mp4) -->
    <video id="dark-video" class="dark-video" autoplay muted loop playsinline preload="auto" src="/font/dark_background.mp4"></video>
</div>

<!-- –ü–∏–≥–≥–∏-–±–∞–Ω–∫ (–≤–∞—à SVG) -->
<div class="piggy-bank-container">
    <svg viewBox="0 0 200 200" preserveAspectRatio="xMidYMid meet">
        <defs>
            <linearGradient id="goldGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" style="stop-color:#FFD700;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#FFA500;stop-opacity:1" />
            </linearGradient>
            <clipPath id="piggy-clip-path">
                <path d="m 68.439633,158.83554 c -3.792859,-6.42803 -0.637233,-15.97316 -6.445882,-20.67816 -5.624197,-2.71405 -7.828833,-11.76118 -14.345434,-11.34371 -6.305135,-0.0433 -15.012506,-0.92844 -16.519793,-8.45251 -2.684158,-8.97602 -4.537772,-18.79372 -2.447795,-28.069878 3.504905,-8.254411 11.69263,6.439242 13.151184,-2.882871 0.366439,-8.421737 6.767607,-15.639099 8.170556,-23.121007 -3.217228,-8.47927 -6.034363,-17.320588 -6.830399,-26.375312 4.503715,-4.887571 12.70019,-0.587139 17.73094,1.916862 3.346271,1.737205 6.763135,7.677731 7.707844,0.888821 6.527093,-2.796077 11.642412,5.587463 18.048593,1.19311 28.484573,-7.183307 61.888243,8.278605 71.976753,36.496111 0.41678,4.653439 4.15118,15.544249 8.99278,10.739541 -4.61756,-6.100231 1.50175,-16.783025 9.0071,-11.75409 7.15742,3.585242 1.39227,11.570527 -1.79763,14.551548 4.40099,5.206064 12.31902,-7.164633 13.28492,-0.625861 -3.89745,5.554367 -12.58369,6.529477 -17.66762,2.047035 -4.60031,0.599206 -10.93084,-2.01212 -8.85944,5.414464 -0.72389,17.541747 -11.19554,33.744827 -25.8223,43.086427 -2.34269,5.56938 -4.38404,12.16397 -4.62903,18.3237 -6.74875,1.28588 -13.91055,0.40964 -20.82067,0.58035 -6.90791,1.78452 -7.34557,-5.83044 -9.92483,-9.08026 -9.01049,-4.09262 -5.650069,10.15887 -12.894866,9.44916 -6.24231,0.0912 -12.728705,0.10202 -18.687645,-1.92226 z M 90.797861,153.607 c -0.177107,-7.47513 9.188758,-5.22109 13.279979,-3.50862 -0.94096,9.62512 9.35719,8.03592 15.85357,7.91441 7.06378,2.05595 10.0253,-2.70642 10.59667,-8.98146 -0.25711,-8.91587 8.02,-11.88958 13.43757,-17.29497 13.97788,-13.0863 18.71789,-34.595738 11.71532,-52.384119 -7.83178,-22.011601 -30.63256,-37.080305 -53.88049,-36.432896 -6.01526,0.377384 -13.567308,0.373997 -18.40401,3.284254 4.359221,5.070966 8.130858,12.070494 10.031624,17.869597 -7.429727,3.416603 -14.663838,7.487084 -22.377912,10.172146 -6.475325,-2.39757 -3.088545,-12.616463 -4.409661,-18.200559 -1.054006,-4.779485 -7.097742,4.485202 -9.220292,5.873485 -7.343703,8.552299 -13.053708,19.220959 -13.549604,30.625186 -4.173234,2.385908 -7.294127,1.386408 -10.352793,-1.816751 -5.879721,2.975633 -1.895646,13.673417 -1.699668,19.528107 0.601724,6.68993 3.996014,14.2436 11.918957,13.70437 5.728953,-0.78805 10.2856,-0.55994 12.988441,5.3276 3.406265,5.46788 12.454845,7.49153 11.223883,15.03451 0.989632,6.00175 0.861897,16.37981 9.915035,14.42139 4.48673,-0.42422 10.312038,-0.98978 12.933381,-5.13568 z M 55.47431,91.52156 c -7.912373,-4.187222 4.450125,-13.620895 6.124036,-4.601807 0.580502,3.277001 -3.119572,6.116056 -6.124036,4.601807 z M 90.413702,49.715358 c 4.238159,-4.801611 13.136308,-2.897713 19.287538,-3.052998 2.6096,-0.08637 12.40641,1.455164 9.26771,3.905859 -9.10191,-3.063242 -19.043733,-2.625834 -28.145647,0.201366 z m 84.945268,36.414225 c 5.82745,-6.554614 -9.17705,-9.047018 -5.52492,-0.840915 0.30811,3.715517 3.8486,3.61649 5.52492,0.840915 z M 78.041185,68.363965 C 82.51058,65.463114 94.060721,64.20546 87.364273,57.200098 84.200651,50.704961 79.061843,44.205571 71.611189,42.76636 c -4.193299,3.967375 -1.290254,12.673599 -1.97226,18.405533 0.456778,4.06574 -0.734445,14.066362 5.752182,8.442147 l 1.282082,-0.603344 z m -20.30748,-10.77424 c 3.732489,-3.811549 13.634461,-8.1768 4.87928,-12.985469 -3.651016,-3.55012 -18.702609,-11.505694 -15.913058,-1.042964 1.585835,6.496625 2.692509,13.548047 6.002159,19.304091 1.72598,-1.688107 3.228737,-3.642954 5.031619,-5.275658 z"/>
            </clipPath>
            <rect id="fill-rect" x="0" y="200" width="200" height="200" clip-path="url(#piggy-clip-path)" fill="url(#goldGradient)" />
        </defs>
        <path id="piggy-outline-path" style="fill:rgba(255, 255, 255, 0.3); stroke-width:3; stroke:#2d3748; fill-rule: evenodd;" d="m 68.439633,158.83554 c -3.792859,-6.42803 -0.637233,-15.97316 -6.445882,-20.67816 -5.624197,-2.71405 -7.828833,-11.76118 -14.345434,-11.34371 -6.305135,-0.0433 -15.012506,-0.92844 -16.519793,-8.45251 -2.684158,-8.97602 -4.537772,-18.79372 -2.447795,-28.069878 3.504905,-8.254411 11.69263,6.439242 13.151184,-2.882871 0.366439,-8.421737 6.767607,-15.639099 8.170556,-23.121007 -3.217228,-8.47927 -6.034363,-17.320588 -6.830399,-26.375312 4.503715,-4.887571 12.70019,-0.587139 17.73094,1.916862 3.346271,1.737205 6.763135,7.677731 7.707844,0.888821 6.527093,-2.796077 11.642412,5.587463 18.048593,1.19311 28.484573,-7.183307 61.888243,8.278605 71.976753,36.496111 0.41678,4.653439 4.15118,15.544249 8.99278,10.739541 -4.61756,-6.100231 1.50175,-16.783025 9.0071,-11.75409 7.15742,3.585242 1.39227,11.570527 -1.79763,14.551548 4.40099,5.206064 12.31902,-7.164633 13.28492,-0.625861 -3.89745,5.554367 -12.58369,6.529477 -17.66762,2.047035 -4.60031,0.599206 -10.93084,-2.01212 -8.85944,5.414464 -0.72389,17.541747 -11.19554,33.744827 -25.8223,43.086427 -2.34269,5.56938 -4.38404,12.16397 -4.62903,18.3237 -6.74875,1.28588 -13.91055,0.40964 -20.82067,0.58035 -6.90791,1.78452 -7.34557,-5.83044 -9.92483,-9.08026 -9.01049,-4.09262 -5.650069,10.15887 -12.894866,9.44916 -6.24231,0.0912 -12.728705,0.10202 -18.687645,-1.92226 z M 90.797861,153.607 c -0.177107,-7.47513 9.188758,-5.22109 13.279979,-3.50862 -0.94096,9.62512 9.35719,8.03592 15.85357,7.91441 7.06378,2.05595 10.0253,-2.70642 10.59667,-8.98146 -0.25711,-8.91587 8.02,-11.88958 13.43757,-17.29497 13.97788,-13.0863 18.71789,-34.595738 11.71532,-52.384119 -7.83178,-22.011601 -30.63256,-37.080305 -53.88049,-36.432896 -6.01526,0.377384 -13.567308,0.373997 -18.40401,3.284254 4.359221,5.070966 8.130858,12.070494 10.031624,17.869597 -7.429727,3.416603 -14.663838,7.487084 -22.377912,10.172146 -6.475325,-2.39757 -3.088545,-12.616463 -4.409661,-18.200559 -1.054006,-4.779485 -7.097742,4.485202 -9.220292,5.873485 -7.343703,8.552299 -13.053708,19.220959 -13.549604,30.625186 -4.173234,2.385908 -7.294127,1.386408 -10.352793,-1.816751 -5.879721,2.975633 -1.895646,13.673417 -1.699668,19.528107 0.601724,6.68993 3.996014,14.2436 11.918957,13.70437 5.728953,-0.78805 10.2856,-0.55994 12.988441,5.3276 3.406265,5.46788 12.454845,7.49153 11.223883,15.03451 0.989632,6.00175 0.861897,16.37981 9.915035,14.42139 4.48673,-0.42422 10.312038,-0.98978 12.933381,-5.13568 z M 55.47431,91.52156 c -7.912373,-4.187222 4.450125,-13.620895 6.124036,-4.601807 0.580502,3.277001 -3.119572,6.116056 -6.124036,4.601807 z M 90.413702,49.715358 c 4.238159,-4.801611 13.136308,-2.897713 19.287538,-3.052998 2.6096,-0.08637 12.40641,1.455164 9.26771,3.905859 -9.10191,-3.063242 -19.043733,-2.625834 -28.145647,0.201366 z m 84.945268,36.414225 c 5.82745,-6.554614 -9.17705,-9.047018 -5.52492,-0.840915 0.30811,3.715517 3.8486,3.61649 5.52492,0.840915 z M 78.041185,68.363965 C 82.51058,65.463114 94.060721,64.20546 87.364273,57.200098 84.200651,50.704961 79.061843,44.205571 71.611189,42.76636 c -4.193299,3.967375 -1.290254,12.673599 -1.97226,18.405533 0.456778,4.06574 -0.734445,14.066362 5.752182,8.442147 l 1.282082,-0.603344 z m -20.30748,-10.77424 c 3.732489,-3.811549 13.634461,-8.1768 4.87928,-12.985469 -3.651016,-3.55012 -18.702609,-11.505694 -15.913058,-1.042964 1.585835,6.496625 2.692509,13.548047 6.002159,19.304091 1.72598,-1.688107 3.228737,-3.642954 5.031619,-5.275658 z"/>
    </svg>
</div>

<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
<div class="container">
    <header class="header">
        <h1 class="title">–î–µ–Ω–µ–∂–Ω–∞—è –∫–∞–ø—Å—É–ª–∞</h1>
        <button id="logout-btn" class="logout-btn">–í—ã–π—Ç–∏</button>
    </header>

    <div class="widget main-widget">
        <h2 id="goal-title">–ù–∞–∫–æ–ø–ª–µ–Ω–∏—è –Ω–∞...</h2>
        <div class="progress-bar">
            <div id="progress-fill" class="progress-fill"></div>
        </div>
        <p id="progress-text">0 / 0</p>
        <p id="progress-percentage" class="progress-percentage"></p>
    </div>

    <div id="expenses-widget" class="widget transactions-widget">
        <h2>–†–∞—Å—Ö–æ–¥—ã</h2>
        <ul id="expenses-list" class="transaction-list"></ul>
    </div>
    <div id="incomes-widget" class="widget transactions-widget">
        <h2>–ò—Å—Ç–æ—Ä–∏—è –¥–æ—Ö–æ–¥–æ–≤</h2>
        <ul id="incomes-list" class="transaction-list"></ul>
    </div>

    <div class="widget currency-widget">
        <h2>–ö—É—Ä—Å—ã –≤–∞–ª—é—Ç –ë–µ–ª–∞—Ä—É—Å–±–∞–Ω–∫–∞</h2>
        <table id="currency-table">
            <thead>
            <tr>
                <th>–í–∞–ª—é—Ç–∞</th>
                <th>–ü—Ä–æ–¥–∞—Ç—å (–ë–∞–Ω–∫ –ø–æ–∫—É–ø–∞–µ—Ç)</th>
                <th>–ö—É–ø–∏—Ç—å (–ë–∞–Ω–∫ –ø—Ä–æ–¥–∞–µ—Ç)</th>
            </tr>
            </thead>
            <tbody id="currency-table-body">
            <tr><td colspan="3">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
            </tbody>
        </table>
    </div>
</div>

<!-- –§–æ—Ä–º—ã –∏ –º–æ–¥–∞–ª–∫–∏ (–æ—Å—Ç–∞–≤–∏–ª –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) -->
<div id="goal-form-container" class="form-container">
    <form id="goal-form" class="form">
        <h3 class="form-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–µ–ª–∏</h3>
        <input type="number" min="0.01" step="0.01" id="goal-amount-input" placeholder="–°—É–º–º–∞" required>
        <input type="text" id="goal-name-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏" required>
        <select id="goal-currency-input" required>
            <option value="BYN">BYN (Br)</option>
            <option value="USD">USD ($)</option>
            <option value="EUR">EUR (‚Ç¨)</option>
            <option value="RUB">RUB (‚ÇΩ)</option>
        </select>
        <input type="date" id="goal-date-input" required>
        <button type="submit" class="form-submit-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <span class="close-btn">&times;</span>
    </form>
</div>
<div id="expense-form-container" class="form-container">
    <form id="expense-form" class="form">
        <h3 class="form-title">–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥</h3>
        <input type="number" min="0.01" step="0.01" id="expense-amount-input" placeholder="–°—É–º–º–∞" required>
        <select id="expense-category-input" required>
            <option value="" disabled selected>–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
            <option value="food">–ï–¥–∞</option>
            <option value="transport">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
            <option value="entertainment">–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
            <option value="shopping">–ü–æ–∫—É–ø–∫–∏</option>
            <option value="other">–î—Ä—É–≥–æ–µ</option>
        </select>
        <textarea id="expense-description-input" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ" rows="3"></textarea>
        <button type="submit" class="form-submit-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <span class="close-btn">&times;</span>
    </form>
</div>
<div id="income-form-container" class="form-container">
    <form id="income-form" class="form">
        <h3 class="form-title">–î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥</h3>
        <input type="number" min="0.01" step="0.01" id="income-amount-input" placeholder="–°—É–º–º–∞" required>
        <textarea id="income-description-input" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" rows="3"></textarea>
        <button type="submit" class="form-submit-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <span class="close-btn">&times;</span>
    </form>
</div>
<div id="converter-form-container" class="form-container">
    <form id="converter-form" class="form">
        <h3 class="form-title">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç</h3>
        <div class="converter-row">
            <input type="number" id="converter-amount-1" placeholder="1.00" min="0" step="any">
            <select id="converter-currency-1"></select>
        </div>
        <div class="converter-equals">=</div>
        <div class="converter-row">
            <input type="number" id="converter-amount-2" placeholder="–†–µ–∑—É–ª—å—Ç–∞—Ç" readonly>
            <select id="converter-currency-2"></select>
        </div>
        <span class="close-btn">&times;</span>
    </form>
</div>
<div id="confirmation-modal" class="modal-container">
    <div class="modal-content">
        <p id="modal-text">–í—ã —É–≤–µ—Ä–µ–Ω—ã?</p>
        <div class="modal-buttons">
            <button id="modal-confirm-btn" class="modal-btn confirm">–î–∞</button>
            <button id="modal-cancel-btn" class="modal-btn cancel">–ù–µ—Ç</button>
        </div>
    </div>
</div>

<div class="action-buttons-container">
    <div class="action-menu" id="action-menu">
        <button id="converter-btn" class="action-btn converter-btn" title="–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç">üí±</button>
        <button id="delete-goal-btn" class="action-btn delete-btn" title="–û—á–∏—Å—Ç–∏—Ç—å —Ü–µ–ª—å">‚ùå</button>
        <button id="income-btn" class="action-btn income-btn" title="–î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥">+</button>
        <button id="expense-btn" class="action-btn expense-btn" title="–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥">-</button>
        <button id="goal-btn" class="action-btn goal-btn" title="–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ü–µ–ª—å">üéØ</button>
    </div>
    <button id="main-action-btn" class="action-btn main-btn">+</button>
</div>

<div id="notifications-container" class="notifications-container"></div>

<!-- –°–ö–†–ò–ü–¢–´: darkmode.js –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω –¥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ App.js -->
<script src="js/darkmode.js"></script>
<script src="js/api.js"></script>
<script type="module" src="js/App.js"></script>
</body>
</html>